<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¾¡å‚19039ã®æ¸©é¦¨å°ç«™</title>
  <link rel="stylesheet" href="styles.css">
  <style>
    /* é¦–é¡µä¸“å±æ ·å¼ */
    .banner {
      background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
      border-radius: 20px;
      padding: 30px;
      text-align: center;
      color: white;
      margin-bottom: 40px;
    }

    .profile-card {
      background: white;
      display: flex;
      align-items: center;
      padding: 30px;
      margin: 20px 0;
    }

    .avatar {
      width: 200px;
      height: 200px;
      border-radius: 50%;
      margin-right: 30px;
      border: 5px solid var(--secondary-color);
    }

    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin: 40px 0;
    }

    .stat-number {
      color: var(--primary-color);
      font-size: 2.5em;
      font-weight: bold;
      margin: 10px 0;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="header-content">
      <div>
        <a href="index.html" class="nav-link">é¦–é¡µ</a>
        <a href="About.html" class="nav-link">å…³äº</a>
        <a href="LiveHistory.html" class="nav-link">å¾€æœŸå›æ”¾</a>
      </div>
      <div>
        <a href="https://space.bilibili.com/12136555" target="_blank" class="bilibili-btn">ä¸ªäººä¸»é¡µ</a>
        <a href="https://live.bilibili.com/8414339" target="_blank" class="bilibili-btn">è¿›å…¥ç›´æ’­é—´</a>
      </div>
    </div>
  </header>

    <div class="container">
        <div class="banner">
            <h1>âš¡å¾¡å‚19039ã®æ¸©é¦¨å°ç«™âš¡</h1>
            <p>æ¬¢è¿æ¥åˆ°è¶…ç”µç£ç‚®çš„åº”æ´åŸºåœ°ï¼(â‰§âˆ‡â‰¦)ï¾‰</p>
        </div>

        <div class="profile-card">
            <img src="https://i1.hdslb.com/bfs/face/43118bd251f77d706382cdae6098938fa6f32196.jpg" 
                 alt="å¾¡å‚19039" 
                 class="avatar">
            <div>
                <h2 style="color: #e91e63; margin-top: 0;">âœ¨ ä¸»æ’­ä»‹ç» âœ¨</h2>
                <p>ğŸ¤ Bç«™IDï¼šå¾¡å‚19039</p>
                <p>ğŸŒŸ ç›´æ’­ç±»å‹ï¼šèŠå¤©äº’åŠ¨ | æ¸¸æˆå®å†µ | æ‰è‰ºå±•ç¤º</p>
                <p>ğŸ’– ç›´æ’­æ—¶é—´ï¼šä¸å®šæœŸç›´æ’­å“¦~æ—¶é—´å˜åŠ¨ä¼šå‘åŠ¨æ€å˜Ÿ</p>
                <p>ğŸ“Œ ä¸ªäººæ ‡ç­¾ï¼šå…ƒæ°”æ»¡æ»¡ | è¶…ç”µç£ç‚® | æ²»æ„ˆç³»</p>
                <div style="margin-top: 20px;">
                    <a href="https://space.bilibili.com/12136555/" target="_blank" class="bilibili-btn">ä¸ªäººä¸»é¡µ</a>
                    <a href="https://live.bilibili.com/8414339/" target="_blank" class="bilibili-btn">ç›´æ’­é—´</a>
                </div>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3>ç²‰ä¸æ•°é‡</h3>
                <div class="stat-number loading" id="fans-count"></div>
                <p>æŒç»­å¢é•¿ä¸­...</p>
            </div>
            <div class="stat-card">
                <h3>ç›´æ’­é—´äººæ°”</h3>
                <div class="stat-number loading" id="live-popularity"></div>
                <p id="live-status">å½“å‰ç›´æ’­çŠ¶æ€</p>
            </div>
            <div class="stat-card">
                <h3>è·èµæ€»æ•°</h3>
                <div class="stat-number loading" id="likes-count"></div>
                <p>æ„Ÿè°¢å¤§å®¶çš„æ”¯æŒ</p>
            </div>
        </div>

        <!-- ç›´æ’­ç‰¹è‰² -->
        <div class="live-card">
            <h3>ğŸŒŸ ç›´æ’­ç‰¹è‰² ğŸŒŸ</h3>
            <ul>
                <li>ğŸ’¬ å®æ—¶äº’åŠ¨ï¼šå¼¹å¹•åŠæ—¶å›å¤ï¼Œç‚¹æ­Œç‚¹æ¢—éƒ½å¯ä»¥ï¼</li>
                <li>ğŸ® å¤šå…ƒå†…å®¹ï¼šä»çƒ­é—¨æ¸¸æˆåˆ°ç»å…¸æ€€æ—§å…¨æ¶µç›–</li>
                <li>ğŸ‰ å®šæœŸæ´»åŠ¨ï¼šç”Ÿæ—¥ä¼šã€çºªå¿µå›ã€èŠ‚åº†ç‰¹åˆ«ä¼åˆ’</li>
                <li>ğŸ ç²‰ä¸ç¦åˆ©ï¼šå®šæœŸæŠ½å¥–ã€å®šåˆ¶å‘¨è¾¹</li>
            </ul>
        </div>

        <!-- æœ€æ–°åŠ¨æ€ -->
        <div class="live-card">
            <h3>ğŸ“¢ æœ€æ–°åŠ¨æ€</h3>
            <p>ã€8æœˆç‰¹åˆ«ä¼åˆ’ã€‘æ¯å‘¨äº”æ™šã€Œæ€€æ—§æ¸¸æˆä¹‹å¤œã€å¯åŠ¨ï¼</p>
            <p>ğŸ® æ´»åŠ¨å†…å®¹ï¼šç»å…¸æ¸¸æˆåˆé›† + è¶£å‘³æŒ‘æˆ˜èµ›</p>
            <p>ğŸ† å‚ä¸ç¦åˆ©ï¼šé™å®šå‹‹ç«  + ç¥ç§˜å¤§ç¤¼åŒ…</p>
        </div>
    </div>

    <!-- é¡µè„š -->
    <div style="text-align: center; padding: 30px; color: #666;">
        <p>Â© 2024 å¾¡å‚19039 åº”æ´ç«™ | ç²‰ä¸ç¾¤ï¼š769271000</p>
        <p>æœ¬ç«™ä¸ºç²‰ä¸è‡ªåˆ¶ï¼Œä¸å“”å“©å“”å“©å®˜æ–¹æ— å…³</p>
    </div>

    </div>

    <script>
        // é…ç½®ä¿¡æ¯
        const CONFIG = {
            UID: 12136555,
            ROOM_ID: 8414339,
            CORS_PROXY: 'https://api.allorigins.win/get?url=', // å¤‡ç”¨ä»£ç†
            REFRESH_INTERVAL: 300000 // 5åˆ†é’Ÿåˆ·æ–°
        };

        // å…ƒç´ å¼•ç”¨
        const elements = {
            fans: document.getElementById('fans-count'),
            popularity: document.getElementById('live-popularity'),
            likes: document.getElementById('likes-count'),
            liveStatus: document.getElementById('live-status')
        };

        // é€šç”¨è¯·æ±‚æ–¹æ³•
        async function fetchData(url) {
            try {
                const response = await fetch(`${CONFIG.CORS_PROXY}${encodeURIComponent(url)}`);
                if (!response.ok) throw new Error('ç½‘ç»œè¯·æ±‚å¤±è´¥');
                
                const data = await response.json();
                return JSON.parse(data.contents);
            } catch (error) {
                console.error('æ•°æ®è·å–å¤±è´¥:', error);
                return null;
            }
        }

        // æ›´æ–°ç»Ÿè®¡æ•°æ®
        function updateStat(element, value, suffix = '') {
            element.classList.remove('loading');
            if (value === null) {
                element.textContent = 'æ•°æ®æš‚ä¸å¯ç”¨';
                element.style.color = '#999';
            } else {
                element.textContent = `${(value / 10000).toFixed(1)}ä¸‡${suffix}`;
                element.style.color = '#e91e63';
            }
        }

        // åŠ è½½æ‰€æœ‰æ•°æ®
        async function loadAllData() {
            // ç²‰ä¸æ•°æ®
            const fansData = await fetchData(
                `https://api.bilibili.com/x/relation/stat?vmid=${CONFIG.UID}`
            );
            updateStat(elements.fans, fansData?.data?.follower);

            // ç›´æ’­é—´æ•°æ®
            const liveData = await fetchData(
                `https://api.live.bilibili.com/room/v1/Room/get_info?room_id=${CONFIG.ROOM_ID}`
            );
            updateStat(elements.popularity, liveData?.data?.online);
            elements.liveStatus.textContent = liveData?.data?.live_status === 1 
                ? 'ğŸ”´ æ­£åœ¨ç›´æ’­ä¸­' 
                : 'âšªï¸ å½“å‰æœªå¼€æ’­';

            // ç‚¹èµæ•°æ®
            const upstatData = await fetchData(
                `https://api.bilibili.com/x/space/upstat?mid=${CONFIG.UID}`
            );
            updateStat(elements.likes, upstatData?.data?.likes);
        }

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', () => {
            loadAllData();
            setInterval(loadAllData, CONFIG.REFRESH_INTERVAL);
        });

        // é”™è¯¯å¤„ç†
        window.addEventListener('error', (event) => {
            console.error('å…¨å±€é”™è¯¯:', event.error);
            [elements.fans, elements.popularity, elements.likes].forEach(el => {
                el.textContent = 'æ•°æ®è·å–å¤±è´¥';
                el.style.color = '#ff0000';
            });
        });
    </script>
</body>
</html>
